# DaaS-Deployer
2022小学期前后端大作业
## 选题
机器学习模型在线服务
## 分工表
- 前端：董文冲、潘首安、邢海潼
- 后端：罗华坤、李晨宇、何吉轩

## 待讨论的问题
（DAAS界面）
前后端衔接
一堆细节。。。

### 前端
框架：arco.design vue

### 后端
docker+k8s（也许可以参考一下B站上的教程）
Flask
1. 服务器（科协也许）
2. DaaS
3. 测试模型
4. 模型数据

可以先把上传模型的部分写了`db.model`（本地上传到云端+存储云端的地址，丢给前端）（周五之前）

## 功能/进度安排
- [ ]上传模型（pmml + onnx）（后端需要自己写model，用Flask）
    - [ ] 查看模型信息
- [ ]测试模型通过表单输入数据(表单项可能是文本也可能是文件，类似 postman)或者使用 JSON 命令直接输入 JSON 格式的数据，提交后预测结果会显示在界面中
- [ ]部署模型（纯后端，暴露一个给前端，测试时暴露给外部）
    - [ ]对外提供 restful api 接口进行调用
    - [ ]暂停，启动，删除
    - [ ]当前服务的状态
- [ ]前端测试部署的接口
- [ ]对外提供快速返回与等待返回两种API

## 文件/接口说明
- `test.py`中为Flask框架，“测试模型”功能需要从前端读取json格式的输入，见`./data/pmml_input_template.json`，之后返回给前端json格式的输出，见`./data/pmml_output_template.py`
- `manager.py`保存当前加载的模型信息（路径）
- `models.py`中实现模型的信息获取、预测等具体功能
- 使用`./data/pmml_generator.py`可以更换算法生成`.pmml`文件

*by助教：我们需要实现对分类、回归、聚类、降维任务的支持*
### 后端数据生成格式
- 分类: 返回概率分布、label
- 回归: 返回预测值（+置信度）
- 聚类: 等下
- 降维: 也等下